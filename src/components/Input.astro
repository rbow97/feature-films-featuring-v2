---
const { props } = Astro.props;
---

<input-wrapper class="bg-primary-lightGrey px-4 py-2.5 rounded-lg grow">
  <input
    autocomplete="off"
    id="input"
    placeholder="Search for someone..."
    type="text"
    class="block appearance-none border-none outline-none bg-transparent w-full"
    {...props}
  />
</input-wrapper>

<script>
  import { handleInputSearchButton } from "../utils/handleInputSearch";

  class InputWrapper extends HTMLElement {
    constructor() {
      super();
      const input = this.querySelector("#input");

      // TODO: Reset on clear of input

      input?.addEventListener("keydown", (e) => {
      handleInputSearchButton(e);
      });
    }
  }

  customElements.define("input-wrapper", InputWrapper);
</script>
