---
import { getPopularPeople } from "../api";
import Container from "../components/Container.astro";
import Layout from "../layouts/Layout.astro";
import Image from "../components/Image.astro";
import Header from "../components/homepage/Header.astro";
import Input from "../components/Input.astro";

const people = await getPopularPeople();
---

<Layout title="Welcome to Feature Films Featuring.">
  <main>
    <Container>
      <div class="h-svh flex flex-col">
        <Header />
        <div class="flex grow">
          <div
            class="w-[200px] shrink-0 h-full border-r-[rgba(3,15,29,.92)] border-r"
          >
            <h3>Tagged</h3>
          </div>
          <div class="flex flex-col px-4 gap-12">
            <Input />
            <div class="flex flex-wrap">
              {
                people.map((person, i) => {
                  if (i < 20)
                    return (
                      <div class="w-1/2 lg:w-1/3 pr-4 pb-4 relative group">
                        <div class="group-hover:opacity-100 rounded opacity-0 bg-red-200/30 block absolute border-2 border-red-500 z-10 left-0 right-4 bottom-4 top-0 duration-secondary transition-all ease-primary" />
                        <Image
                          src={`https://image.tmdb.org/t/p/w185/${person.profile_path}`}
                        />
                        <p class="w-fit absolute bottom-6 left-4 text-white">
                          {person.name}
                        </p>
                      </div>
                    );
                })
              }
            </div>
          </div>
        </div>
      </div>
    </Container>
  </main>
</Layout>
