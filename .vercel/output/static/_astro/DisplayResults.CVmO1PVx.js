import{h as n,j as t,u as i}from"./index.BSMzEbXI.js";import{t as l}from"./newSystem.B5xtTJ18.js";import{c as s}from"./taggingSystemStore.3RL0Qu7J.js";import{r as d}from"./index.DhYZZe0J.js";function f(e,a){return a?.find(r=>r.id===e.id)!==void 0}async function c(e,a){l.set([...a,{name:e.name,id:e.id}]),localStorage.setItem("tagged-people",JSON.stringify([...a,{name:e.name,id:e.id}]))}function p(e,a){f(e,a)?n(e,a):c(e,a)}function m(e){const{imagePath:a,title:r,handleTagButtonClick:o}=e;return t.jsx("div",{className:"col-span-1 w-full relative mx-auto",children:t.jsxs("article",{className:" max-h-[400px] h-full flex flex-col",children:[t.jsx("img",{loading:"lazy",width:"150",height:"150",decoding:"async",className:"w-full object-cover overflow-hidden grow rounded-lg border-2 border-primary-lightGrey",src:a?`https://image.tmdb.org/t/p/w500${a}`:"/film-camera.svg"}),t.jsxs("div",{className:"flex justify-between mt-xs gap-xs w-full",children:[t.jsx("p",{className:"text-md text-primary-darkGrey grow truncate max-w-[300px] md:max-w-[unset]",children:r}),t.jsxs("div",{className:"flex gap-4 items-start",children:[o&&t.jsxs("button",{onClick:o,className:"group relative","aria-describedby":"tag-person",children:[t.jsx("div",{className:"h-4 w-4 relative after:absolute after:top-0 after:bottom-0 after:left-1/2 after:w-0.5 after:bg-primary-black after:opacity-50 before:opacity-50 after:rounded-md before:absolute before:left-0 before:right-0 before:top-1/2 before:h-0.5 before:-translate-y-1/2 after:-translate-x-1/2 before:bg-primary-black before:rounded-md group-hover:after:opacity-100 group-hover:before:opacity-100 after:transition-opacity before:transition-opacity after:duration-200 before:duration-200"}),t.jsx("div",{role:"tooltip",id:"tag-person",className:"absolute -top-[30px] left-1/2 -translate-x-1/2 text-xs whitespace-nowrap bg-primary-black rounded-md py-1 px-2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200 ease",children:t.jsx("p",{children:"Tag this person"})})]}),t.jsx("button",{className:"group",children:t.jsx("div",{className:"h-3 w-3 border-t-2 border-primary-black opacity-50 border-r-2 relative after:absolute after:w-0.5 after:h-5 after:-right-0.5 after:-top-[1px] after:rotate-45 after:bg-primary-black after:origin-top group-hover:opacity-100 transition-all duration-200 "})})]})]})]})})}function b({searchedPeople:e}){d.useEffect(()=>{e&&s.set(e)},[]);const a=i(s),r=i(l);return t.jsx(t.Fragment,{children:a?.map(o=>t.jsx(m,{imagePath:o.profile_path,title:o.name,handleTagButtonClick:()=>p(o,r)}))})}export{b as default};
