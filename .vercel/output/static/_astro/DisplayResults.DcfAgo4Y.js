import{h as s,u as t,a as i}from"./jsxRuntime.module.BsZOU-yU.js";import{t as n}from"./newSystem.Dax5KQaO.js";import{c as l}from"./taggingSystemStore.DBv9rmBb.js";import{y as d}from"./hooks.module.CYQm0EAo.js";import{k as f}from"./preact.module.9bA1UASV.js";function c(e,r){return r?.find(a=>a.id===e.id)!==void 0}async function p(e,r){n.set([...r,{name:e.name,id:e.id}]),localStorage.setItem("tagged-people",JSON.stringify([...r,{name:e.name,id:e.id}]))}function u(e,r){c(e,r)?s(e,r):p(e,r)}function m(e){const{imagePath:r,title:a,handleTagButtonClick:o}=e;return t("div",{class:"col-span-1 w-full relative mx-auto",children:t("article",{class:" max-h-[400px] h-full flex flex-col",children:[t("img",{loading:"lazy",width:"150",height:"150",decoding:"async",class:"w-full object-cover overflow-hidden grow rounded-lg border-2 border-primary-lightGrey",src:r?`https://image.tmdb.org/t/p/w500${r}`:"/film-camera.svg"}),t("div",{class:"flex justify-between mt-xs gap-xs w-full",children:[t("p",{class:"text-md text-primary-darkGrey grow truncate max-w-[300px] md:max-w-[unset]",children:a}),t("div",{class:"flex gap-4 items-start",children:[o&&t("button",{onClick:o,class:"group relative","aria-describedby":"tag-person",children:[t("div",{class:"h-4 w-4 relative after:absolute after:top-0 after:bottom-0 after:left-1/2 after:w-0.5 after:bg-primary-black after:opacity-50 before:opacity-50 after:rounded-md before:absolute before:left-0 before:right-0 before:top-1/2 before:h-0.5 before:-translate-y-1/2 after:-translate-x-1/2 before:bg-primary-black before:rounded-md group-hover:after:opacity-100 group-hover:before:opacity-100 after:transition-opacity before:transition-opacity after:duration-200 before:duration-200"}),t("div",{role:"tooltip",id:"tag-person",class:"absolute -top-[30px] left-1/2 -translate-x-1/2 text-xs whitespace-nowrap bg-primary-black rounded-md py-1 px-2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200 ease",children:t("p",{children:"Tag this person"})})]}),t("button",{class:"group",children:t("div",{class:"h-3 w-3 border-t-2 border-primary-black opacity-50 border-r-2 relative after:absolute after:w-0.5 after:h-5 after:-right-0.5 after:-top-[1px] after:rotate-45 after:bg-primary-black after:origin-top group-hover:opacity-100 transition-all duration-200 "})})]})]})]})})}function v({searchedPeople:e}){d(()=>{e&&l.set(e)},[]);const r=i(l),a=i(n);return t(f,{children:r?.map(o=>t(m,{imagePath:o.profile_path,title:o.name,handleTagButtonClick:()=>u(o,a)}))})}export{v as default};
